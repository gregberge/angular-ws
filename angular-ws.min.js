/*! Angular ws v1.1.0 | (c) 2014 Greg Berg√© | License MIT */
function wsProvider(){function a(a,c){var d={};return d._buffer=[],d.connect=function(a){a=a||{};var e=c.defer();return a.url&&(b.config.url=a.url),a.protocols&&(b.config.protocols=a.protocols),a.transport&&(b.config.transport=a.transport),d.baseSocket=b.config.protocols?new b.config.transport(b.config.url,b.config.protocols):new b.config.transport(b.config.url),d.on("open",function(){d._buffer.forEach(d.send),d._buffer=[],e.resolve(d)}),d.on("error",function(a){e.reject(a)}),e.promise},d.getReadyState=function(){return d.baseSocket?d.baseSocket.readyState:null},d.on=function(b,c){function e(){var b=arguments;a.$apply(function(){c.apply(null,b)})}return d.baseSocket||d.connect(),d.baseSocket.addEventListener(b,e),function(){d.baseSocket.removeEventListener(b,e)}},d.send=function(a){return d.baseSocket||d.connect(),d.baseSocket&&d.baseSocket.readyState===d.baseSocket.OPEN?void d.baseSocket.send(a):d._buffer.push(a)},d.close=function(){d.baseSocket&&d.baseSocket.close.apply(d.baseSocket,arguments)},d}var b=this;this.config={transport:WebSocket},this.$get=["$rootScope","$q",a],this.setUrl=function(a){return this.config.url=a,this},this.setProtocols=function(a){return this.config.protocols=a,this},this.setTransport=function(a){return this.config.transport=a,this}}angular.module("ws",[]).provider("ws",wsProvider);
//# sourceMappingURL=angular-ws.min.js.map